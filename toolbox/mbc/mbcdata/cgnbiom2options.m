function options = cgnbiom2options(NBIom)
%CGNBIOM2OPTIONS

%  Copyright 2000-2004 The MathWorks, Inc. and Ford Global Technologies, Inc.

%  $Revision: 1.3.6.1 $    $Date: 2004/02/09 06:56:26 $

% take an NBI om and return an NBI options structure

ShadowOm = get(NBIom, 'ShadowOptions');
NBISubproblemOm = get(NBIom, 'NBISubproblemOptions');

NBIoptions = cgnbi('defaults');
ShadowOptions = NBIoptions.ShadowOptions;
NBISubproblemOptions = NBIoptions.NBISubproblemOptions;

ShadowOptions= optimset(ShadowOptions, ...
    'Display', get(ShadowOm ,'Display'),...
    'GradObj',get(ShadowOm ,'GradObj'),...
    'GradConstr',get(ShadowOm ,'GradConstr'),...
    'MaxFunEvals',get(ShadowOm ,'MaxFunEvals'),...
    'MaxIter',get(ShadowOm ,'MaxIter'),...
    'TolFun', get(ShadowOm ,'TolFun'),...
    'TolX', get(ShadowOm ,'TolX'),...
    'TolCon', get(ShadowOm ,'TolCon'));


NBISubproblemOptions= optimset(NBISubproblemOptions, ...
    'Display', get(NBISubproblemOm ,'Display'),...
    'GradObj',get(NBISubproblemOm ,'GradObj'),...
    'GradConstr',get(NBISubproblemOm ,'GradConstr'),...
    'MaxFunEvals',get(NBISubproblemOm ,'MaxFunEvals'),...
    'MaxIter',get(NBISubproblemOm ,'MaxIter'),...
    'TolFun', get(NBISubproblemOm ,'TolFun'),...
    'TolX', get(NBISubproblemOm ,'TolX'),...
    'TolCon', get(NBISubproblemOm ,'TolCon'));

options = cgnbioptimset(ShadowOptions, NBISubproblemOptions);
