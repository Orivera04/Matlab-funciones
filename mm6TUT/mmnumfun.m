function varargout=mmnumfun(fun,varargin)
%MMNUMFUN Functions on Numerical Arrays. (MM)
% [A,B,C,...]=MMNUMFUN(FUN,X,Y,Z,...) applies the function FUN to
% the numeric arrays X,Y,Z,... returning the results in the
% corresponding output arrays A,B,C,...
% FUN can be a numeric scalar, an inline function, or an M-file function.
%
% If FUN is a numeric scalar, simple multiplication is performed.
% This is useful for changing units on numerous variables at once.
%
% If FUN is an inline function, M-file function, or function handle
% each output is generated by calling FEVAL, e.g., A=FEVAL(FUN,X).
%
% See also MMSTRUCTFUN, MMCELLFUN.

% D.C. Hanselman, University of Maine, Orono, ME 04469
% 8/18/99, 1/26/01
% Mastering MATLAB 6, Prentice Hall, ISBN 0-13-019468-9

if nargout~=nargin-1
   error('Numer of Input and Output Arrays Must be Equal.')
end
if any(cellfun('isclass',varargin,'double')==0)
   error('All Input Arrays Must be Doubles.')
end
if isnumeric(fun) % simple multiplication
   for i=1:length(varargin)
      varargout{i}=fun*varargin{i};
   end
elseif ischar(fun)|isa(fun,'inline')|isa(fun,'function_handle')
   for i=1:length(varargin)
      varargout{i}=feval(fun,varargin{i});
   end
else
   error('Unknown FUN argument.')
end