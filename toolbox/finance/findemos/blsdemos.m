function fig = blsdemos()
%BLSDEMOS Equity option pricing, hedging, and implied volatility demos.
%  
%   See also ONEOPT, PAYOFF, SMILE.
% 

% Created by Greg Portmann (1997)

%       Copyright 1995-2002 The MathWorks, Inc.  
%       $Revision: 1.12 $   $Date: 2002/04/14 21:46:03 $ 

% quit MATLAB property removed 07/22/98 JHA

ButtonWidth = 230;
ButtonHeight  = 27;

FigWidth = ButtonWidth+12;
FigHeight  = 3+10*(ButtonHeight+6)+15;

% Change figure position
set(0,'Units','pixels');
p=get(0,'screensize');

a = figure( ...
    'Color',[.8 .8 .8], ...
    'CloseRequestFcn',@getopendemofigs, ...
    'Interruptible','Off', ...
    'HandleVisibility','On', ...
    'MenuBar','none', ...
    'Name','MATLAB Derivatives', ...
    'NumberTitle','Off', ...
    'Units','pixels', ...   
    'Position',[35 p(4)-FigHeight-50 FigWidth FigHeight+10], ...
    'Tag','LAUNCHPADFig');

% Frames
b = uicontrol('Parent',a, ...
    'Units','pixels', ...   
    'BackgroundColor',[.8 .8 .8], ...
    'Interruptible','off', ...
    'Position',[2 3+8*(ButtonHeight+3)-7 ButtonWidth+8 3*ButtonHeight+12], ...
    'Style','frame', ...
    'Tag','Frame1');

b = uicontrol('Parent',a, ...
    'Units','pixels', ...   
    'BackgroundColor',[.8 .8 .8], ...
    'Interruptible','off', ...
    'Position',[2 3+1*(ButtonHeight+3)-1 ButtonWidth+8 7*ButtonHeight+12], ...
    'Style','frame', ...
    'Tag','Frame2');

% Text
b = uicontrol('Parent',a, ...
    'Units','pixels', ...   
    'Enable','On', ...
    'ForegroundColor',[0 .5 0], ...
    'BackgroundColor',[.8 .8 .8], ...
    'FontAngle','normal', ...
    'FontSize',8, ...
    'FontUnits','points', ...
    'FontWeight','Bold', ...
    'HorizontalAlignment','Center', ...
    'Interruptible','Off', ...
    'Position',[6 7+11*(ButtonHeight+3)  ButtonWidth 15], ...
    'Style','text', ...
    'String','Select an Application', ...
    'Tag','LAUNCHPADTitle');   

% Pushbuttons
b = uicontrol('Parent',a, ...
    'Units','pixels', ...   
    'Callback','oneopt(1);', ...
    'FontAngle','normal', ...
    'FontSize',8, ...
    'FontUnits','points', ...
    'FontWeight','normal', ...
    'ForegroundColor',[0 0 0], ...
    'HorizontalAlignment','Center', ...
    'Interruptible','Off', ...
    'Enable','On', ...
    'Position',[6 3+10*(ButtonHeight+3)-4 ButtonWidth ButtonHeight], ...
    'String','Black-Scholes Formula', ...
    'Tag','LAUNCHPADButton7');

b = uicontrol('Parent',a, ...
    'Units','pixels', ...   
    'Callback','oneopt(0);', ...
    'FontAngle','normal', ...
    'FontSize',8, ...
    'FontUnits','points', ...
    'FontWeight','normal', ...
    'ForegroundColor',[0 0 0], ...
    'HorizontalAlignment','Center', ...
    'Interruptible','Off', ...
    'Enable','On', ...
    'Position',[6 3+9*(ButtonHeight+3)-4 ButtonWidth ButtonHeight], ...
    'String','Binomial Trees', ...
    'Tag','LAUNCHPADButton6');

b = uicontrol('Parent',a, ...
    'Units','pixels', ...   
    'Callback','smile Example1;', ...
    'FontAngle','normal', ...
    'FontSize',8, ...
    'FontUnits','points', ...
    'FontWeight','normal', ...
    'ForegroundColor',[0 0 0], ...
    'HorizontalAlignment','Center', ...
    'Interruptible','Off', ...
    'Enable','On', ...
    'Position',[6 3+8*(ButtonHeight+3)-4 ButtonWidth ButtonHeight], ...
    'String','Volatility Smiles', ...
    'Tag','LAUNCHPADButton5');

b = uicontrol('Parent',a, ...
    'Units','pixels', ...   
    'Enable','On', ...
    'ForegroundColor',[0 .5 0], ...
    'BackgroundColor',[.8 .8 .8], ...
    'FontAngle','normal', ...
    'FontSize',8, ...
    'FontUnits','points', ...
    'FontWeight','normal', ...
    'HorizontalAlignment','Center', ...
    'Interruptible','Off', ...
    'Position',[6 3+7*(ButtonHeight+3)+2  ButtonWidth 13], ...
    'Style','text', ...
    'String','Select an Example', ...
    'Tag','ExampleTitle');   

ListStr = strvcat('No Example','Buy Call','Sell Call','Buy Put','Sell Put','Synthetic Call','Covered Call', ...
    'Protective Put','Synthetic Future','Bull Spread','Bear Spread','Bull Cylinder','Bear Cylinder', ...
    'Straddle','Strangle','Collar','Range Forward','Back Spread','Strap','Butterfly Spread','Condor','Seagull');
b = uicontrol('Parent',a, ...
    'Units','pixels', ...
    'ForegroundColor',[0 0 0], ...
    'BackgroundColor',[1 1 1], ...
    'Callback','', ...
    'Interruptible','off', ...
    'Position',[6 3+5*(ButtonHeight+3) ButtonWidth 2*ButtonHeight+7], ...
    'String', ListStr, ...
    'Style','listbox', ...
    'Tag','ListboxExample1', ...
    'Value',1);

b = uicontrol('Parent',a, ...
    'Units','pixels', ...   
    'Callback','ExNum=get(findobj(gcbf,''Tag'',''ListboxExample1''),''Value'')-1;payoff(1,ExNum);', ...
    'Enable','On', ...
    'FontAngle','normal', ...
    'FontSize',8, ...
    'FontUnits','points', ...
    'FontWeight','normal', ...
    'ForegroundColor',[0 0 0], ...
    'HorizontalAlignment','Center', ...
    'Interruptible','Off', ...
    'Position',[6 3+4*(ButtonHeight+3)+2 ButtonWidth ButtonHeight], ...
    'String','Profit/Loss Diagram', ...
    'Tag','LAUNCHPADButton4');

b = uicontrol('Parent',a, ...
    'Callback','ExNum=get(findobj(gcbf,''Tag'',''ListboxExample1''),''Value'')-1;payoff(3,ExNum);', ...
    'Units','pixels', ...   
    'Enable','On', ...
    'FontAngle','normal', ...
    'FontSize',8, ...
    'FontUnits','points', ...
    'FontWeight','normal', ...
    'ForegroundColor',[0 0 0], ...
    'HorizontalAlignment','Center', ...
    'Interruptible','Off', ...
    'Position',[6 3+3*(ButtonHeight+3)+2 ButtonWidth ButtonHeight], ...
    'String','CDF Function', ...
    'Tag','LAUNCHPADButton3');

b = uicontrol('Parent',a, ...
    'Units','pixels', ...   
    'Callback','ExNum=get(findobj(gcbf,''Tag'',''ListboxExample1''),''Value'')-1;payoff(2,ExNum);', ...
    'Enable','On', ...
    'FontAngle','normal', ...
    'FontSize',8, ...
    'FontUnits','points', ...
    'FontWeight','normal', ...
    'ForegroundColor',[0 0 0], ...
    'HorizontalAlignment','Center', ...
    'Interruptible','Off', ...
    'Position',[6 3+2*(ButtonHeight+3)+2 ButtonWidth ButtonHeight], ...
    'String','Probability Diagram', ...
    'Tag','LAUNCHPADButton2');

b = uicontrol('Parent',a, ...
    'Units','pixels', ...   
    'Callback','ExNum=get(findobj(gcbf,''Tag'',''ListboxExample1''),''Value'')-1;payoff(4,ExNum);', ...
    'FontAngle','normal', ...
    'FontSize',8, ...
    'FontUnits','points', ...
    'FontWeight','normal', ...
    'ForegroundColor',[0 0 0], ...
    'HorizontalAlignment','Center', ...
    'Interruptible','Off', ...
    'Enable','On', ...
    'Position',[6 3+1*(ButtonHeight+3)+2 ButtonWidth ButtonHeight], ...
    'String','Hedging Diagram', ...
    'Tag','LAUNCHPADButton1');

b = uicontrol('Parent',a, ...
    'Callback',@getopendemofigs, ...
    'Units','pixels', ...   
    'FontAngle','normal', ...
    'FontSize',8, ...
    'FontUnits','points', ...
    'FontWeight','normal', ...
    'ForegroundColor',[0 0 0], ...
    'HorizontalAlignment','Center', ...
    'Interruptible','Off', ...
    'Enable','On', ...
    'Position',[6 3+0*(ButtonHeight+3) ButtonWidth ButtonHeight], ...
    'String','Quit', ...
    'Tag','LAUNCHPADClose');

if nargout > 0, fig = a; end

% Normalize everything
objs = findobj(gcf);
set(objs,'Units','normalized');

% ---helper fcn: getopendemofigs---
function getopendemofigs(hFig, eventStruct)
%GETOPENDEMOFIGS Gets the handles to the open demo figures and
%   closes the figures.

% Check to see if the handle coming in is from the main
% figure window or the quit button. Depeding on which it is,
% get the correct handle.
if ~strcmpi(get(hFig,'type'),'figure')
    hFig = gcbf;
end

f1=findobj('type','figure','tag','Profit/Loss Diagram');
f2=findobj('type','figure','tag','LAUNCHPADFig');
f3=findobj('type','figure','tag','VolatilitySmile');
f4=findobj('type','figure','tag','Black/Scholes Diagram');
hFig2 = [f1;f2;f3;f4];

close([hFig;hFig2],'force');

% [EOF]
