function [obj, ok] = editInitSol(obj, maxSol, nOp)
%EDITINITSOL GUI to get intialised custom solution from user
%
%  [OBJ, OK] = EDITINITSOL(OBJ, MAXSOLUTION, NOPPOINT)

%  Copyright 2000-2004 The MathWorks, Inc. and Ford Global Technologies, Inc.

%  $Revision: 1.4.6.3 $    $Date: 2004/04/04 03:26:02 $ 


% Create dialog
f = xregdialog('name','Create Selected Solution',...
	'resize','off');
xregcenterfigure(f,[400 70])

initsolEdit = xregGui.clickedit('parent', f, ...
    'min', 1, ...
    'max', maxSol, ...
    'value',1, ...
    'dragging', 'off', ...
    'rule', 'int');
editctrl = xregGui.labelcontrol('parent', f, ...
    'control', initsolEdit, ...
    'string', 'Solution number to initialize selected solution with:', ...
    'border', [0 0 85 0]);

ok=uicontrol('parent',f,...
	'style','pushbutton',...
	'string','OK',...
	'callback','set(gcbf,''tag'',''ok'',''visible'',''off'');');
cancel=uicontrol('parent',f,...
	'style','pushbutton',...
	'string','Cancel',...
	'callback','set(gcbf,''visible'',''off'');');

grd=xreggridbaglayout(f,'dimension',[2 3],...
	'gapy', 10, 'gapx',7,...
	'rowsizes',[20 25],...
	'colsizes',[-1 65 65],...
	'mergeblock',{[1 1],[1 3]},...
	'elements',{editctrl,[],...
        [],ok,...
        [],cancel},...
	'packstatus','off',...
	'border',[7 7 7 10]);

f.LayoutManager=grd;
set(grd,'packstatus','on');
f.showDialog(ok);
% GUI blocks here until OK/cancel pressed

tg = get(f, 'tag');
if strcmp(tg, 'ok')
    isol = get(initsolEdit, 'value');
    obj = initsol(obj, isol, nOp);
else
    ok=0;
end
delete(f);
